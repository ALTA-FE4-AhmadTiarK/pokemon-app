import Head from 'next/head';
import styles from '../styles/Home.module.css';
// Axios
import React, { useEffect, useState } from 'react';
// Chosen Components:
import { CardList } from '../components/Cards';
import Navbar from '../components/Navbar';
import Pagination from '../components/Pagination';
import Link from 'next/link';
import Header from '../components/Header';
import MyLink from '../components/Link';
import axios from 'axios';

export default function ListPokemon() {
	const [listPokemon, setListPokemon] = useState([]);	

	useEffect(() => {
		fetchData();
	}, []);

	const fetchData = async () => {
		await axios
			.get(`https://pokeapi.co/api/v2/pokemon/`)
			.then((response) => {
				setListPokemon(response.data.results);
			})
			.catch((err) => {
				console.log(err);
			});
	};

	return (
		<>
			<Head>
				<title>List Pokemon</title>
				<meta
					name='description'
					content='Generated by create next app'
				/>
				<link rel='icon' href='/favicon.ico' />
			</Head>
			<Navbar title='List Pokemon' />
			<main className='align-items-center justify-content-center container py-4'>
				<Header title={'List of Pokemon'} />

				<div className={styles.link}>
					{listPokemon.map((item, index) => {
						return <CardList key={index} name={item.name} />;
					})}
				</div>

				<Pagination />
			</main>

			<footer className={styles.footer}>
				<h6 className='fw-bold'>Created by Ahmad Tiar K.</h6>
			</footer>
		</>
	);
}
